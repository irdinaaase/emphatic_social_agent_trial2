<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - Teacher Dashboard - Empathic Learning Agent</title>
    
    <!-- Global CSS -->
    <link rel="stylesheet" href="../../css/global.css">
    <link rel="stylesheet" href="../../css/accessibility.css">
    
    <!-- Teacher CSS -->
    <link rel="stylesheet" href="../../css/teacher/teacher-global.css">
    <link rel="stylesheet" href="../../css/teacher/analytics.css">
    
    <!-- Shared Components CSS -->
    <link rel="stylesheet" href="../../css/shared/components.css">
    <link rel="stylesheet" href="../../css/shared/forms.css">
    <link rel="stylesheet" href="../../css/shared/modals.css">
</head>
<body class="teacher-theme">
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="dashboard.html" class="nav-logo">üë©‚Äçüè´</a>
                <span class="nav-title">Empathic Learning Agent</span>
                <span class="nav-subtitle">Teacher Dashboard</span>
            </div>
            
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-item">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Dashboard</span>
                </a>
                <a href="students.html" class="nav-item">
                    <span class="nav-icon">üë•</span>
                    <span class="nav-text">Students</span>
                </a>
                <a href="monitoring.html" class="nav-item">
                    <span class="nav-icon">üëÅÔ∏è</span>
                    <span class="nav-text">Monitoring</span>
                </a>
                <a href="alerts.html" class="nav-item">
                    <span class="nav-icon">üîî</span>
                    <span class="nav-text">Alerts</span>
                </a>
                <a href="analytics.html" class="nav-item active">
                    <span class="nav-icon">üìà</span>
                    <span class="nav-text">Analytics</span>
                </a>
                <a href="content-editor.html" class="nav-item">
                    <span class="nav-icon">‚úèÔ∏è</span>
                    <span class="nav-text">Content</span>
                </a>
            </div>
            
            <div class="nav-actions">
                <div class="teacher-info">
                    <span class="teacher-name" id="teacherName">Ms. Anderson</span>
                    <span class="teacher-class">Grade 5 Mathematics</span>
                </div>
                <button class="btn btn-outline btn-sm" id="helpButton">
                    <span>‚ùì</span> Help
                </button>
                <button class="btn btn-outline btn-sm" id="logoutButton">
                    <span>üö™</span> Logout
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="analytics-dashboard">
        <!-- Header -->
        <div class="analytics-header">
            <div class="header-title">
                <h1>Learning Analytics</h1>
                <p>Deep insights into student performance, engagement, and learning patterns</p>
            </div>
            <div class="date-range-picker">
                <div class="date-inputs">
                    <div class="date-input-group">
                        <label for="startDate">From</label>
                        <input type="date" id="startDate" class="date-input">
                    </div>
                    <div class="date-input-group">
                        <label for="endDate">To</label>
                        <input type="date" id="endDate" class="date-input">
                    </div>
                </div>
                <div class="quick-date-buttons">
                    <button class="quick-date-btn" data-period="today">Today</button>
                    <button class="quick-date-btn" data-period="week">This Week</button>
                    <button class="quick-date-btn active" data-period="month">This Month</button>
                    <button class="quick-date-btn" data-period="quarter">This Quarter</button>
                </div>
            </div>
        </div>

        <!-- Summary Cards -->
        <div class="analytics-summary" id="analyticsSummary">
            <!-- Summary cards will be loaded here -->
            <div class="summary-card-analytics primary">
                <div class="summary-header">
                    <div class="summary-title">Average Score</div>
                    <div class="summary-icon">üìä</div>
                </div>
                <div class="summary-value">78%</div>
                <div class="summary-change positive">
                    <span>‚Üó</span>
                    <span>+2.5% from last week</span>
                </div>
            </div>
            
            <div class="summary-card-analytics success">
                <div class="summary-header">
                    <div class="summary-title">Active Students</div>
                    <div class="summary-icon">üë•</div>
                </div>
                <div class="summary-value">24</div>
                <div class="summary-change positive">
                    <span>‚Üó</span>
                    <span>+3 from last week</span>
                </div>
            </div>
            
            <div class="summary-card-analytics warning">
                <div class="summary-header">
                    <div class="summary-title">Engagement</div>
                    <div class="summary-icon">üéØ</div>
                </div>
                <div class="summary-value">72%</div>
                <div class="summary-change negative">
                    <span>‚Üò</span>
                    <span>-1.2% from last week</span>
                </div>
            </div>
            
            <div class="summary-card-analytics info">
                <div class="summary-header">
                    <div class="summary-title">Improvement Rate</div>
                    <div class="summary-icon">üìà</div>
                </div>
                <div class="summary-value">15%</div>
                <div class="summary-change positive">
                    <span>‚Üó</span>
                    <span>+4.8% from last week</span>
                </div>
            </div>
        </div>

        <!-- Filters -->
        <div class="analytics-filters">
            <div class="filter-group-analytics">
                <label for="subjectFilter">Subject</label>
                <select id="subjectFilter" class="filter-select">
                    <option value="all">All Subjects</option>
                    <option value="mathematics">Mathematics</option>
                    <option value="science">Science</option>
                    <option value="english">English</option>
                    <option value="history">History</option>
                    <option value="art">Art</option>
                </select>
            </div>
            
            <div class="filter-group-analytics">
                <label for="gradeFilter">Grade</label>
                <select id="gradeFilter" class="filter-select">
                    <option value="all">All Grades</option>
                    <option value="5A">Grade 5A</option>
                    <option value="5B">Grade 5B</option>
                    <option value="6A">Grade 6A</option>
                    <option value="6B">Grade 6B</option>
                </select>
            </div>
            
            <div class="filter-group-analytics">
                <label for="studentFilter">Student</label>
                <select id="studentFilter" class="filter-select">
                    <option value="all">All Students</option>
                    <option value="s1">Alex Johnson</option>
                    <option value="s2">Maria Garcia</option>
                    <option value="s3">David Chen</option>
                    <option value="s4">Sarah Williams</option>
                    <option value="s5">James Miller</option>
                </select>
            </div>
            
            <div class="export-controls">
                <button class="export-btn secondary" id="resetFilters">
                    <span>üîÑ</span> Reset Filters
                </button>
                <button class="export-btn" id="exportCsv">
                    <span>üì•</span> Export CSV
                </button>
                <button class="export-btn" id="exportPdf">
                    <span>üìÑ</span> Export PDF
                </button>
            </div>
        </div>

        <!-- Charts Grid -->
        <div class="analytics-charts">
            <!-- Engagement Chart -->
            <div class="chart-container">
                <div class="chart-header">
                    <h3>Engagement Over Time</h3>
                    <div class="chart-actions">
                        <button class="chart-action-btn" data-action="zoom">üîç</button>
                        <button class="chart-action-btn" data-action="download">üíæ</button>
                        <button class="chart-action-btn" data-action="refresh">üîÑ</button>
                    </div>
                </div>
                <div class="chart-content" id="engagementChart">
                    <!-- Chart will be rendered here -->
                    <div class="chart-placeholder">
                        Engagement chart loading...
                    </div>
                </div>
            </div>
            
            <!-- Performance Chart -->
            <div class="chart-container">
                <div class="chart-header">
                    <h3>Performance by Subject</h3>
                    <div class="chart-actions">
                        <button class="chart-action-btn" data-action="zoom">üîç</button>
                        <button class="chart-action-btn" data-action="download">üíæ</button>
                        <button class="chart-action-btn" data-action="refresh">üîÑ</button>
                    </div>
                </div>
                <div class="chart-content" id="performanceChart">
                    <!-- Chart will be rendered here -->
                    <div class="chart-placeholder">
                        Performance chart loading...
                    </div>
                </div>
            </div>
            
            <!-- Progress Chart -->
            <div class="chart-container">
                <div class="chart-header">
                    <h3>Student Progress</h3>
                    <div class="chart-actions">
                        <button class="chart-action-btn" data-action="zoom">üîç</button>
                        <button class="chart-action-btn" data-action="download">üíæ</button>
                        <button class="chart-action-btn" data-action="refresh">üîÑ</button>
                    </div>
                </div>
                <div class="chart-content" id="progressChart">
                    <!-- Chart will be rendered here -->
                    <div class="chart-placeholder">
                        Progress chart loading...
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Metrics -->
        <div class="performance-metrics">
            <div class="metric-card">
                <h3>AI Predictions & Insights</h3>
                <div class="metric-list" id="predictionsList">
                    <!-- Predictions will be loaded here -->
                    <div class="metric-item">
                        <div class="metric-info">
                            <div class="metric-label">Maria Garcia</div>
                            <div class="metric-value">
                                Predicted score: 85%
                                <span class="confidence">(78% confidence)</span>
                            </div>
                        </div>
                        <div class="metric-progress">
                            <div class="metric-progress-fill" style="width: 85%"></div>
                        </div>
                        <div class="risk-badge risk-success">
                            LOW RISK
                        </div>
                    </div>
                    
                    <div class="metric-item">
                        <div class="metric-info">
                            <div class="metric-label">Sarah Williams</div>
                            <div class="metric-value">
                                Predicted score: 62%
                                <span class="confidence">(82% confidence)</span>
                            </div>
                        </div>
                        <div class="metric-progress">
                            <div class="metric-progress-fill" style="width: 62%"></div>
                        </div>
                        <div class="risk-badge risk-warning">
                            MEDIUM RISK
                        </div>
                    </div>
                    
                    <div class="metric-item">
                        <div class="metric-info">
                            <div class="metric-label">Alex Johnson</div>
                            <div class="metric-value">
                                Predicted score: 78%
                                <span class="confidence">(75% confidence)</span>
                            </div>
                        </div>
                        <div class="metric-progress">
                            <div class="metric-progress-fill" style="width: 78%"></div>
                        </div>
                        <div class="risk-badge risk-success">
                            LOW RISK
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="metric-card">
                <h3>Focus & Engagement Metrics</h3>
                <div class="metric-list">
                    <div class="metric-item">
                        <div class="metric-info">
                            <div class="metric-label">Average Focus Level</div>
                            <div class="metric-value">68%</div>
                        </div>
                        <div class="metric-progress">
                            <div class="metric-progress-fill" style="width: 68%"></div>
                        </div>
                    </div>
                    
                    <div class="metric-item">
                        <div class="metric-info">
                            <div class="metric-label">Peak Learning Time</div>
                            <div class="metric-value">10:00 AM</div>
                        </div>
                        <div class="metric-progress">
                            <div class="metric-progress-fill" style="width: 90%"></div>
                        </div>
                    </div>
                    
                    <div class="metric-item">
                        <div class="metric-info">
                            <div class="metric-label">Session Duration</div>
                            <div class="metric-value">42 min avg</div>
                        </div>
                        <div class="metric-progress">
                            <div class="metric-progress-fill" style="width: 70%"></div>
                        </div>
                    </div>
                    
                    <div class="metric-item">
                        <div class="metric-info">
                            <div class="metric-label">Completion Rate</div>
                            <div class="metric-value">82%</div>
                        </div>
                        <div class="metric-progress">
                            <div class="metric-progress-fill" style="width: 82%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Leaderboard -->
        <div class="leaderboard">
            <h3>Student Leaderboard</h3>
            <table class="leaderboard-table" id="leaderboardTable">
                <thead>
                    <tr>
                        <th class="rank-cell">Rank</th>
                        <th>Student</th>
                        <th>Grade</th>
                        <th>Progress</th>
                        <th>Weekly Change</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Leaderboard will be loaded here -->
                    <tr class="rank-1">
                        <td class="rank-cell">1</td>
                        <td>
                            <div class="student-cell-leaderboard">
                                <div class="student-avatar">D</div>
                                <div class="student-info">
                                    <div class="student-name">David Chen</div>
                                </div>
                            </div>
                        </td>
                        <td class="score-cell">5A</td>
                        <td>
                            <div class="progress-cell">
                                <div class="metric-progress">
                                    <div class="metric-progress-fill" style="width: 92%"></div>
                                </div>
                                <div class="progress-value">92%</div>
                            </div>
                        </td>
                        <td class="positive">
                            ‚Üó +8%
                        </td>
                    </tr>
                    
                    <tr class="rank-2">
                        <td class="rank-cell">2</td>
                        <td>
                            <div class="student-cell-leaderboard">
                                <div class="student-avatar">M</div>
                                <div class="student-info">
                                    <div class="student-name">Maria Garcia</div>
                                </div>
                            </div>
                        </td>
                        <td class="score-cell">5B</td>
                        <td>
                            <div class="progress-cell">
                                <div class="metric-progress">
                                    <div class="metric-progress-fill" style="width: 88%"></div>
                                </div>
                                <div class="progress-value">88%</div>
                            </div>
                        </td>
                        <td class="positive">
                            ‚Üó +6%
                        </td>
                    </tr>
                    
                    <tr class="rank-3">
                        <td class="rank-cell">3</td>
                        <td>
                            <div class="student-cell-leaderboard">
                                <div class="student-avatar">A</div>
                                <div class="student-info">
                                    <div class="student-name">Alex Johnson</div>
                                </div>
                            </div>
                        </td>
                        <td class="score-cell">5A</td>
                        <td>
                            <div class="progress-cell">
                                <div class="metric-progress">
                                    <div class="metric-progress-fill" style="width: 85%"></div>
                                </div>
                                <div class="progress-value">85%</div>
                            </div>
                        </td>
                        <td class="positive">
                            ‚Üó +5%
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Export Controls -->
        <div class="export-controls">
            <button class="export-btn" id="generateReport">
                <span>üìã</span> Generate Full Report
            </button>
            <button class="export-btn secondary" id="shareInsights">
                <span>ü§ù</span> Share Insights
            </button>
            <button class="export-btn secondary" id="scheduleReport">
                <span>‚è∞</span> Schedule Report
            </button>
        </div>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Teacher Dashboard</h4>
                <p>Monitor and support student learning</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <a href="dashboard.html">Dashboard</a>
                <a href="students.html">Student Management</a>
                <a href="analytics.html">Analytics</a>
            </div>
            <div class="footer-section">
                <h4>Support</h4>
                <a href="#" id="teacherHelp">Teacher Guide</a>
                <a href="#" id="contactAdmin">Contact Admin</a>
                <a href="#" id="systemStatus">System Status</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Empathic Learning Agent. All rights reserved.</p>
        </div>
    </footer>

    <!-- Global JavaScript -->
    <script src="../../js/global.js"></script>
    <script src="../../js/config.js"></script>
    
    <!-- Modules -->
    <script src="../../js/modules/auth.js"></script>
    <script src="../../js/modules/storage.js"></script>
    <script src="../../js/modules/utils.js"></script>
    <script src="../../js/modules/accessibility.js"></script>
    
    <!-- Teacher Modules -->
    <script src="../../js/teacher/teacher-global.js"></script>
    <script src="../../js/teacher/analytics.js"></script>
    
    <!-- AI Modules -->
    <script src="../../js/ai/agent-core.js"></script>
    
    <!-- Shared Components -->
    <script src="../../js/shared/components.js"></script>
</body>
</html>